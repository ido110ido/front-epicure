{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport data from \"./resturants.json\";\nconst yearInMilliseconds = 31536000000;\nexport const restaurantsSlice = createSlice({\n  name: \"restaurants\",\n  initialState: {\n    restaurantsData: data.restaurants,\n    value: data.restaurants\n  },\n  reducers: {\n    all: state => {\n      state.value = state.restaurantsData;\n    },\n    newRestaurants: state => {\n      const currentDate = new Date().getTime();\n      state.value = state.restaurantsData.filter(e => {\n        return new Date(e.startDate).getTime() > currentDate - yearInMilliseconds * 2;\n      });\n    },\n    openRestaurants: state => {\n      const currentHour = new Date().getHours();\n      state.value = state.restaurantsData.filter(e => {\n        return e.openHour < currentHour && currentHour < e.closeHour;\n      });\n    },\n    popularRestaurants: state => {\n      state.value = state.restaurantsData.sort((a, b) => a.visited - b.visited);\n    },\n    topThreePopularRestaurants: state => {\n      state.value = state.restaurantsData.sort((a, b) => a.visited - b.visited).slice(0, 3);\n    },\n    profileRestaurant: (state, action) => {\n      state.value = [];\n      state.value.push(state.restaurantsData.find(e => e.chefId === action.payload));\n    }\n  }\n});\nexport const {\n  all,\n  newRestaurants,\n  openRestaurants,\n  popularRestaurants,\n  topThreePopularRestaurants,\n  profileRestaurant\n} = restaurantsSlice.actions;\nexport default restaurantsSlice.reducer;","map":{"version":3,"names":["createSlice","data","yearInMilliseconds","restaurantsSlice","name","initialState","restaurantsData","restaurants","value","reducers","all","state","newRestaurants","currentDate","Date","getTime","filter","e","startDate","openRestaurants","currentHour","getHours","openHour","closeHour","popularRestaurants","sort","a","b","visited","topThreePopularRestaurants","slice","profileRestaurant","action","push","find","chefId","payload","actions","reducer"],"sources":["C:/Users/User/OneDrive/שולחן העבודה/full stack curse/epicure/src/data/resturantSlicer.tsx"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport { IRestaurant } from \"../component/Types/Interfaces/IRestaurantCard\";\r\nimport data from \"./resturants.json\";\r\nconst yearInMilliseconds = 31536000000;\r\nexport interface IRestaurantsState {\r\n  value: IRestaurant[];\r\n}\r\nexport const restaurantsSlice = createSlice({\r\n  name: \"restaurants\",\r\n  initialState: {\r\n    restaurantsData: data.restaurants,\r\n    value: data.restaurants,\r\n  },\r\n  reducers: {\r\n    all: (state) => {\r\n      state.value = state.restaurantsData;\r\n    },\r\n    newRestaurants: (state) => {\r\n      const currentDate = new Date().getTime();\r\n      state.value = state.restaurantsData.filter((e) => {\r\n        return (\r\n          new Date(e.startDate).getTime() > currentDate - yearInMilliseconds * 2\r\n        );\r\n      });\r\n    },\r\n    openRestaurants: (state) => {\r\n      const currentHour = new Date().getHours();\r\n      state.value = state.restaurantsData.filter((e) => {\r\n        return e.openHour < currentHour && currentHour < e.closeHour;\r\n      });\r\n    },\r\n    popularRestaurants: (state) => {\r\n      state.value = state.restaurantsData.sort((a, b) => a.visited - b.visited);\r\n    },\r\n    topThreePopularRestaurants: (state) => {\r\n      state.value = state.restaurantsData\r\n        .sort((a, b) => a.visited - b.visited)\r\n        .slice(0, 3);\r\n    },\r\n    profileRestaurant: (state, action) => {\r\n      state.value = [];\r\n      state.value.push(\r\n        state.restaurantsData.find((e) => e.chefId === action.payload)\r\n      );\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  all,\r\n  newRestaurants,\r\n  openRestaurants,\r\n  popularRestaurants,\r\n  topThreePopularRestaurants,\r\n  profileRestaurant,\r\n} = restaurantsSlice.actions;\r\n\r\nexport default restaurantsSlice.reducer;\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,OAAOC,IAAI,MAAM,mBAAmB;AACpC,MAAMC,kBAAkB,GAAG,WAAW;AAItC,OAAO,MAAMC,gBAAgB,GAAGH,WAAW,CAAC;EAC1CI,IAAI,EAAE,aAAa;EACnBC,YAAY,EAAE;IACZC,eAAe,EAAEL,IAAI,CAACM,WAAW;IACjCC,KAAK,EAAEP,IAAI,CAACM;EACd,CAAC;EACDE,QAAQ,EAAE;IACRC,GAAG,EAAGC,KAAK,IAAK;MACdA,KAAK,CAACH,KAAK,GAAGG,KAAK,CAACL,eAAe;IACrC,CAAC;IACDM,cAAc,EAAGD,KAAK,IAAK;MACzB,MAAME,WAAW,GAAG,IAAIC,IAAI,EAAE,CAACC,OAAO,EAAE;MACxCJ,KAAK,CAACH,KAAK,GAAGG,KAAK,CAACL,eAAe,CAACU,MAAM,CAAEC,CAAC,IAAK;QAChD,OACE,IAAIH,IAAI,CAACG,CAAC,CAACC,SAAS,CAAC,CAACH,OAAO,EAAE,GAAGF,WAAW,GAAGX,kBAAkB,GAAG,CAAC;MAE1E,CAAC,CAAC;IACJ,CAAC;IACDiB,eAAe,EAAGR,KAAK,IAAK;MAC1B,MAAMS,WAAW,GAAG,IAAIN,IAAI,EAAE,CAACO,QAAQ,EAAE;MACzCV,KAAK,CAACH,KAAK,GAAGG,KAAK,CAACL,eAAe,CAACU,MAAM,CAAEC,CAAC,IAAK;QAChD,OAAOA,CAAC,CAACK,QAAQ,GAAGF,WAAW,IAAIA,WAAW,GAAGH,CAAC,CAACM,SAAS;MAC9D,CAAC,CAAC;IACJ,CAAC;IACDC,kBAAkB,EAAGb,KAAK,IAAK;MAC7BA,KAAK,CAACH,KAAK,GAAGG,KAAK,CAACL,eAAe,CAACmB,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACE,OAAO,GAAGD,CAAC,CAACC,OAAO,CAAC;IAC3E,CAAC;IACDC,0BAA0B,EAAGlB,KAAK,IAAK;MACrCA,KAAK,CAACH,KAAK,GAAGG,KAAK,CAACL,eAAe,CAChCmB,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACE,OAAO,GAAGD,CAAC,CAACC,OAAO,CAAC,CACrCE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;IAChB,CAAC;IACDC,iBAAiB,EAAE,CAACpB,KAAK,EAAEqB,MAAM,KAAK;MACpCrB,KAAK,CAACH,KAAK,GAAG,EAAE;MAChBG,KAAK,CAACH,KAAK,CAACyB,IAAI,CACdtB,KAAK,CAACL,eAAe,CAAC4B,IAAI,CAAEjB,CAAC,IAAKA,CAAC,CAACkB,MAAM,KAAKH,MAAM,CAACI,OAAO,CAAC,CAC/D;IACH;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EACX1B,GAAG;EACHE,cAAc;EACdO,eAAe;EACfK,kBAAkB;EAClBK,0BAA0B;EAC1BE;AACF,CAAC,GAAG5B,gBAAgB,CAACkC,OAAO;AAE5B,eAAelC,gBAAgB,CAACmC,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}