{"ast":null,"code":"import _toConsumableArray from\"C:/Users/User/OneDrive/\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4/full stack curse/epicure/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/User/OneDrive/\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4/full stack curse/epicure/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useDispatch}from\"react-redux\";import{addDishToOrder}from\"../../../data/orderSlicer\";import{CleanButton}from\"../../Styled_Components/Buttons\";import{BackGroundWindows,DisplayPopUpWindow,InfoDisplayPopUpWindow}from\"../../Styled_Components/PopUpWindows\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PopUpDish=function PopUpDish(props){var dish=props.dish;var dispatch=useDispatch();//dish side handle\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),selectedSides=_useState2[0],setSelectedOption=_useState2[1];var handleSidesChange=function handleSidesChange(event){setSelectedOption(event.target.value);};//dish changes handle\nvar _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),changes=_useState4[0],setChanges=_useState4[1];var handleChanges=function handleChanges(event){var option=event.target.value;var isChecked=event.target.checked;if(isChecked){setChanges([].concat(_toConsumableArray(changes),[option]));}else{setChanges(changes.filter(function(changes){return changes!==option;}));}};// handle quantity of dishes\nvar _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),quantity=_useState6[0],setQuantity=_useState6[1];var quantityChange=function quantityChange(action){switch(action){case\"+\":setQuantity(quantity+1);break;case\"-\":quantity>1&&setQuantity(quantity-1);break;}};//create food type image arry to present\nvar foodTypeIcons=dish.foodType.map(function(food){return/*#__PURE__*/_jsx(\"img\",{className:\"foodTypeLogo\",src:\"/imges/icons/foodTypes/\"+food+\".svg\",alt:food});});//create the ordered dish\nvar orderedDish=function orderedDish(){return{name:dish.name,_id:dish._id,restaurantId:dish.resturantId,img:dish.img,price:dish.price,amount:quantity,extraInfo:[selectedSides].concat(_toConsumableArray(changes))};};return/*#__PURE__*/_jsx(BackGroundWindows,{ref:props.forwardRef,onClick:props.onClick,children:/*#__PURE__*/_jsxs(DisplayPopUpWindow,{className:\"scroll\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"dishDetailImg\",src:dish.img,alt:dish.name}),/*#__PURE__*/_jsxs(InfoDisplayPopUpWindow,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detailDish\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\" \",dish.name]}),/*#__PURE__*/_jsx(\"p\",{children:dish.ingredients.join(\",\")}),/*#__PURE__*/_jsx(\"div\",{className:\"foodTypes foodTypesDetailWindows\",children:foodTypeIcons}),/*#__PURE__*/_jsxs(\"div\",{className:\"price priceNotAbsolute\",children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"span\",{children:dish.price}),/*#__PURE__*/_jsx(\"hr\",{})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"choosingBlock\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"underlineTitle\",children:\"Choose a side\"}),dish.sides.map(function(side){return/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:side,checked:selectedSides===side,onChange:handleSidesChange}),side]});})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"choosingBlock\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"underlineTitle\",children:\"Changes\"}),dish.changes.map(function(change){return/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",value:change.changeName,checked:changes.includes(change.changeName),onChange:handleChanges}),change.changeName]});})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"choosingBlock\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"underlineTitle\",children:\"Quantity\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"Quantity\",children:[/*#__PURE__*/_jsx(CleanButton,{className:\"focusButton\",onClick:function onClick(){quantityChange(\"-\");},children:/*#__PURE__*/_jsx(\"img\",{src:\"/imges/icons/substract.svg\",alt:\"substract\"})}),/*#__PURE__*/_jsx(\"span\",{children:quantity}),/*#__PURE__*/_jsx(CleanButton,{className:\"focusButton\",onClick:function onClick(){quantityChange(\"+\");},children:/*#__PURE__*/_jsx(\"img\",{src:\"/imges/icons/add.svg\",alt:\"add\"})})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){props.onSubmit();try{dispatch(addDishToOrder(orderedDish()));}catch(_unused){console.log(\"npoe\");}},children:\"Add to bag\"})]})]})});};export default PopUpDish;","map":{"version":3,"names":["React","useState","useDispatch","addDishToOrder","CleanButton","BackGroundWindows","DisplayPopUpWindow","InfoDisplayPopUpWindow","PopUpDish","props","dish","dispatch","selectedSides","setSelectedOption","handleSidesChange","event","target","value","changes","setChanges","handleChanges","option","isChecked","checked","filter","quantity","setQuantity","quantityChange","action","foodTypeIcons","foodType","map","food","orderedDish","name","_id","restaurantId","resturantId","img","price","amount","extraInfo","forwardRef","onClick","ingredients","join","sides","side","change","changeName","includes","onSubmit","console","log"],"sources":["C:/Users/User/OneDrive/שולחן העבודה/full stack curse/epicure/src/component/PopUps/popUpDish/popUpDish.tsx"],"sourcesContent":["import React, { useState, ReactNode, RefObject } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { addDishToOrder, cleanOrder } from \"../../../data/orderSlicer\";\r\nimport { CleanButton } from \"../../Styled_Components/Buttons\";\r\nimport {\r\n  BackGroundWindows,\r\n  DisplayPopUpWindow,\r\n  InfoDisplayPopUpWindow,\r\n} from \"../../Styled_Components/PopUpWindows\";\r\nimport { IDish, IDishOrder } from \"../../Types/Interfaces/IDishCard\";\r\ninterface IPopUpDish {\r\n  dish: IDish;\r\n  restaurantName: string;\r\n  onSubmit: () => void;\r\n  onClick: (event: React.MouseEvent<HTMLInputElement>) => void;\r\n  forwardRef: React.RefObject<HTMLDivElement>;\r\n}\r\nconst PopUpDish: React.FC<IPopUpDish> = (props) => {\r\n  const dish: IDish = props.dish;\r\n  const dispatch = useDispatch();\r\n  //dish side handle\r\n  const [selectedSides, setSelectedOption] = useState(\"\");\r\n  const handleSidesChange = (event: any) => {\r\n    setSelectedOption(event.target.value);\r\n  };\r\n  //dish changes handle\r\n  const [changes, setChanges] = useState<string[]>([]);\r\n  const handleChanges = (event: any) => {\r\n    const option = event.target.value;\r\n    const isChecked = event.target.checked;\r\n    if (isChecked) {\r\n      setChanges([...changes, option]);\r\n    } else {\r\n      setChanges(changes.filter((changes) => changes !== option));\r\n    }\r\n  };\r\n  // handle quantity of dishes\r\n  const [quantity, setQuantity] = useState<number>(1);\r\n  const quantityChange = (action: string) => {\r\n    switch (action) {\r\n      case \"+\":\r\n        setQuantity(quantity + 1);\r\n        break;\r\n      case \"-\":\r\n        quantity > 1 && setQuantity(quantity - 1);\r\n        break;\r\n    }\r\n  };\r\n  //create food type image arry to present\r\n  const foodTypeIcons = dish.foodType.map((food: string) => (\r\n    <img\r\n      className=\"foodTypeLogo\"\r\n      src={\"/imges/icons/foodTypes/\" + food + \".svg\"}\r\n      alt={food}\r\n    />\r\n  ));\r\n  //create the ordered dish\r\n  const orderedDish = (): IDishOrder => {\r\n    return {\r\n      name: dish.name,\r\n      _id: dish._id,\r\n      restaurantId: dish.resturantId,\r\n      img: dish.img,\r\n      price: dish.price,\r\n      amount: quantity,\r\n      extraInfo: [selectedSides, ...changes],\r\n    };\r\n  };\r\n  return (\r\n    <BackGroundWindows ref={props.forwardRef} onClick={props.onClick}>\r\n      <DisplayPopUpWindow className=\"scroll\">\r\n        <img className=\"dishDetailImg\" src={dish.img} alt={dish.name} />\r\n        <InfoDisplayPopUpWindow>\r\n          <div className=\"detailDish\">\r\n            <h3> {dish.name}</h3>\r\n            <p>{dish.ingredients.join(\",\")}</p>\r\n            <div className=\"foodTypes foodTypesDetailWindows\">\r\n              {foodTypeIcons}\r\n            </div>\r\n            <div className=\"price priceNotAbsolute\">\r\n              <hr />\r\n              <span>{dish.price}</span>\r\n              <hr />\r\n            </div>\r\n          </div>\r\n          {/* sides, radio buttons */}\r\n          <div className=\"choosingBlock\">\r\n            <span className=\"underlineTitle\">Choose a side</span>\r\n            {dish.sides.map((side) => {\r\n              return (\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    value={side}\r\n                    checked={selectedSides === side}\r\n                    onChange={handleSidesChange}\r\n                  />\r\n                  {side}\r\n                </label>\r\n              );\r\n            })}\r\n          </div>\r\n          {/* changes , cheack box */}\r\n          <div className=\"choosingBlock\">\r\n            <span className=\"underlineTitle\">Changes</span>\r\n            {dish.changes.map((change) => {\r\n              return (\r\n                <label>\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    value={change.changeName}\r\n                    checked={changes.includes(change.changeName)}\r\n                    onChange={handleChanges}\r\n                  />\r\n                  {change.changeName}\r\n                </label>\r\n              );\r\n            })}\r\n          </div>\r\n          <div className=\"choosingBlock\">\r\n            <span className=\"underlineTitle\">Quantity</span>\r\n            <div className=\"Quantity\">\r\n              <CleanButton\r\n                className=\"focusButton\"\r\n                onClick={() => {\r\n                  quantityChange(\"-\");\r\n                }}\r\n              >\r\n                <img src=\"/imges/icons/substract.svg\" alt=\"substract\" />\r\n              </CleanButton>\r\n              <span>{quantity}</span>\r\n              <CleanButton\r\n                className=\"focusButton\"\r\n                onClick={() => {\r\n                  quantityChange(\"+\");\r\n                }}\r\n              >\r\n                <img src=\"/imges/icons/add.svg\" alt=\"add\" />\r\n              </CleanButton>\r\n            </div>\r\n          </div>\r\n          <button\r\n            onClick={() => {\r\n              props.onSubmit();\r\n              try {\r\n                dispatch(addDishToOrder(orderedDish()));\r\n              } catch {\r\n                console.log(\"npoe\");\r\n              }\r\n            }}\r\n          >\r\n            Add to bag\r\n          </button>\r\n        </InfoDisplayPopUpWindow>\r\n      </DisplayPopUpWindow>\r\n    </BackGroundWindows>\r\n  );\r\n};\r\n\r\nexport default PopUpDish;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}