{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst getDishData = async () => {\n  return await fetch(\"https://server-epicure.onrender.com/dishes\").then(response => response.json()).then(data => {\n    return data.data;\n  }).catch(error => {\n    console.error(\"Error getting dishes data:\", error);\n  });\n};\nconst dishesData = await getDishData();\nexport const dishSlice = createSlice({\n  name: \"dishes\",\n  initialState: {\n    dishData: dishesData,\n    value: []\n  },\n  reducers: {\n    setDishes: (state, action) => {\n      const {\n        resturantId,\n        DayPart\n      } = action.payload;\n      state.value = state.dishData.filter(dish => dish.DayPart === DayPart && dish.resturantId === resturantId);\n    },\n    topThreePopularDish: state => {\n      state.value = state.dishData.sort((a, b) => a.visited - b.visited).slice(0, 3);\n    },\n    updateDish: (state, action) => {\n      state.dishData = action.payload;\n      state.value = action.payload;\n    }\n  }\n});\nexport const {\n  setDishes,\n  topThreePopularDish,\n  updateDish\n} = dishSlice.actions;\nexport default dishSlice.reducer;","map":{"version":3,"names":["createSlice","getDishData","fetch","then","response","json","data","catch","error","console","dishesData","dishSlice","name","initialState","dishData","value","reducers","setDishes","state","action","resturantId","DayPart","payload","filter","dish","topThreePopularDish","sort","a","b","visited","slice","updateDish","actions","reducer"],"sources":["C:/Users/User/OneDrive/שולחן העבודה/full stack curse/front-epicure/src/data/dishSlicer.tsx"],"sourcesContent":["import {\r\n  AnyAction,\r\n  createSlice,\r\n  Dispatch,\r\n  PayloadAction,\r\n} from \"@reduxjs/toolkit\";\r\nimport { IDish } from \"../component/Types/Interfaces/IDishCard\";\r\nexport interface IDishesState {\r\n  dishData: IDish[];\r\n  value: IDish[];\r\n}\r\nconst getDishData = async () => {\r\n  return await fetch(\"https://server-epicure.onrender.com/dishes\")\r\n    .then((response) => response.json())\r\n    .then((data) => {\r\n      return data.data;\r\n    })\r\n    .catch((error) => {\r\n      console.error(\"Error getting dishes data:\", error);\r\n    });\r\n};\r\nconst dishesData: IDish[] = await getDishData();\r\n\r\nexport const dishSlice = createSlice({\r\n  name: \"dishes\",\r\n  initialState: {\r\n    dishData: dishesData,\r\n    value: [],\r\n  } as IDishesState,\r\n  reducers: {\r\n    setDishes: (state, action) => {\r\n      const { resturantId, DayPart } = action.payload;\r\n      state.value = state.dishData.filter(\r\n        (dish) => dish.DayPart === DayPart && dish.resturantId === resturantId\r\n      );\r\n    },\r\n    topThreePopularDish: (state) => {\r\n      state.value = state.dishData\r\n        .sort((a, b) => a.visited - b.visited)\r\n        .slice(0, 3);\r\n    },\r\n    updateDish: (state, action) => {\r\n      state.dishData = action.payload;\r\n      state.value = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setDishes, topThreePopularDish, updateDish } = dishSlice.actions;\r\n\r\nexport default dishSlice.reducer;\r\n"],"mappings":"AAAA,SAEEA,WAAW,QAGN,kBAAkB;AAMzB,MAAMC,WAAW,GAAG,YAAY;EAC9B,OAAO,MAAMC,KAAK,CAAC,4CAA4C,CAAC,CAC7DC,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,EAAE,CAAC,CACnCF,IAAI,CAAEG,IAAI,IAAK;IACd,OAAOA,IAAI,CAACA,IAAI;EAClB,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAK;IAChBC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;EACpD,CAAC,CAAC;AACN,CAAC;AACD,MAAME,UAAmB,GAAG,MAAMT,WAAW,EAAE;AAE/C,OAAO,MAAMU,SAAS,GAAGX,WAAW,CAAC;EACnCY,IAAI,EAAE,QAAQ;EACdC,YAAY,EAAE;IACZC,QAAQ,EAAEJ,UAAU;IACpBK,KAAK,EAAE;EACT,CAAiB;EACjBC,QAAQ,EAAE;IACRC,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC5B,MAAM;QAAEC,WAAW;QAAEC;MAAQ,CAAC,GAAGF,MAAM,CAACG,OAAO;MAC/CJ,KAAK,CAACH,KAAK,GAAGG,KAAK,CAACJ,QAAQ,CAACS,MAAM,CAChCC,IAAI,IAAKA,IAAI,CAACH,OAAO,KAAKA,OAAO,IAAIG,IAAI,CAACJ,WAAW,KAAKA,WAAW,CACvE;IACH,CAAC;IACDK,mBAAmB,EAAGP,KAAK,IAAK;MAC9BA,KAAK,CAACH,KAAK,GAAGG,KAAK,CAACJ,QAAQ,CACzBY,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACE,OAAO,GAAGD,CAAC,CAACC,OAAO,CAAC,CACrCC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;IAChB,CAAC;IACDC,UAAU,EAAE,CAACb,KAAK,EAAEC,MAAM,KAAK;MAC7BD,KAAK,CAACJ,QAAQ,GAAGK,MAAM,CAACG,OAAO;MAC/BJ,KAAK,CAACH,KAAK,GAAGI,MAAM,CAACG,OAAO;IAC9B;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEL,SAAS;EAAEQ,mBAAmB;EAAEM;AAAW,CAAC,GAAGpB,SAAS,CAACqB,OAAO;AAE/E,eAAerB,SAAS,CAACsB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}