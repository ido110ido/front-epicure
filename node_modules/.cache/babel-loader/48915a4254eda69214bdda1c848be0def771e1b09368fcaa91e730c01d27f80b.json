{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst yearInMilliseconds = 31536000000;\nconst getChefsData = async () => {\n  return await fetch(\"http://localhost:8000/chefs\").then(response => response.json()).then(data => {\n    console.log(data);\n    return data.data;\n  }).catch(error => {\n    console.error(\"Error getting chefs data:\", error);\n  });\n};\nconst chefsData = await getChefsData();\nconst IDchefOfTheWeek = \"6408b12b18f482cbda0155d6\";\nexport const chefSlice = createSlice({\n  name: \"chef\",\n  initialState: {\n    chefsList: chefsData,\n    value: [],\n    chefName: \"\",\n    singleChef: null\n  },\n  reducers: {\n    allChefs: state => {\n      state.value = chefsData;\n    },\n    popularChefs: state => {\n      state.value = [...state.chefsList].sort((a, b) => a.visited - b.visited);\n    },\n    newChefs: state => {\n      const currentDate = new Date().getTime();\n      state.value = state.chefsList.filter(e => {\n        return new Date(e.startDate).getTime() > currentDate - yearInMilliseconds * 5;\n      });\n    },\n    getChefName: (state, action) => {\n      const temp = state.chefsList.find(e => e._id === action.payload);\n      state.chefName = (temp === null || temp === void 0 ? void 0 : temp.firstName) + \" \" + (temp === null || temp === void 0 ? void 0 : temp.lastName);\n    },\n    getChefOfTheWeek: state => {\n      const chefOfTheWeek = state.chefsList.find(e => e._id === IDchefOfTheWeek);\n      if (chefOfTheWeek) {\n        state.singleChef = chefOfTheWeek;\n      }\n    },\n    updatedChefs: (state, action) => {\n      state.value = action.payload;\n      state.chefsList = action.payload;\n    }\n  }\n});\nexport const {\n  allChefs,\n  popularChefs,\n  newChefs,\n  getChefName,\n  getChefOfTheWeek,\n  updatedChefs\n} = chefSlice.actions;\nexport default chefSlice.reducer;","map":{"version":3,"names":["createSlice","yearInMilliseconds","getChefsData","fetch","then","response","json","data","console","log","catch","error","chefsData","IDchefOfTheWeek","chefSlice","name","initialState","chefsList","value","chefName","singleChef","reducers","allChefs","state","popularChefs","sort","a","b","visited","newChefs","currentDate","Date","getTime","filter","e","startDate","getChefName","action","temp","find","_id","payload","firstName","lastName","getChefOfTheWeek","chefOfTheWeek","updatedChefs","actions","reducer"],"sources":["C:/Users/User/OneDrive/שולחן העבודה/full stack curse/epicure/front/src/data/chefSlicer.tsx"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport { IChef } from \"../component/Types/Interfaces/IChef\";\r\nconst yearInMilliseconds = 31536000000;\r\nexport interface IChefState {\r\n  chefsList: IChef[];\r\n  value: IChef[];\r\n  chefName: string;\r\n  singleChef: IChef | null;\r\n}\r\nconst getChefsData = async () => {\r\n  return await fetch(\"http://localhost:8000/chefs\")\r\n    .then((response) => response.json())\r\n    .then((data) => {\r\n      console.log(data);\r\n      return data.data;\r\n    })\r\n    .catch((error) => {\r\n      console.error(\"Error getting chefs data:\", error);\r\n    });\r\n};\r\nconst chefsData: IChef[] = await getChefsData();\r\nconst IDchefOfTheWeek = \"6408b12b18f482cbda0155d6\";\r\nexport const chefSlice = createSlice({\r\n  name: \"chef\",\r\n  initialState: {\r\n    chefsList: chefsData,\r\n    value: [],\r\n    chefName: \"\",\r\n    singleChef: null,\r\n  } as IChefState,\r\n  reducers: {\r\n    allChefs: (state) => {\r\n      state.value = chefsData;\r\n    },\r\n    popularChefs: (state) => {\r\n      state.value = [...state.chefsList].sort((a, b) => a.visited - b.visited);\r\n    },\r\n    newChefs: (state) => {\r\n      const currentDate = new Date().getTime();\r\n      state.value = state.chefsList.filter((e) => {\r\n        return (\r\n          new Date(e.startDate).getTime() > currentDate - yearInMilliseconds * 5\r\n        );\r\n      });\r\n    },\r\n    getChefName: (state, action) => {\r\n      const temp = state.chefsList.find((e) => e._id === action.payload);\r\n      state.chefName = temp?.firstName + \" \" + temp?.lastName;\r\n    },\r\n    getChefOfTheWeek: (state) => {\r\n      const chefOfTheWeek = state.chefsList.find(\r\n        (e) => e._id === IDchefOfTheWeek\r\n      );\r\n      if (chefOfTheWeek) {\r\n        state.singleChef = chefOfTheWeek;\r\n      }\r\n    },\r\n    updatedChefs: (state, action) => {\r\n      state.value = action.payload;\r\n      state.chefsList = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  allChefs,\r\n  popularChefs,\r\n  newChefs,\r\n  getChefName,\r\n  getChefOfTheWeek,\r\n  updatedChefs,\r\n} = chefSlice.actions;\r\n\r\nexport default chefSlice.reducer;\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,kBAAkB,GAAG,WAAW;AAOtC,MAAMC,YAAY,GAAG,YAAY;EAC/B,OAAO,MAAMC,KAAK,CAAC,6BAA6B,CAAC,CAC9CC,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,EAAE,CAAC,CACnCF,IAAI,CAAEG,IAAI,IAAK;IACdC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;IACjB,OAAOA,IAAI,CAACA,IAAI;EAClB,CAAC,CAAC,CACDG,KAAK,CAAEC,KAAK,IAAK;IAChBH,OAAO,CAACG,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;EACnD,CAAC,CAAC;AACN,CAAC;AACD,MAAMC,SAAkB,GAAG,MAAMV,YAAY,EAAE;AAC/C,MAAMW,eAAe,GAAG,0BAA0B;AAClD,OAAO,MAAMC,SAAS,GAAGd,WAAW,CAAC;EACnCe,IAAI,EAAE,MAAM;EACZC,YAAY,EAAE;IACZC,SAAS,EAAEL,SAAS;IACpBM,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE,EAAE;IACZC,UAAU,EAAE;EACd,CAAe;EACfC,QAAQ,EAAE;IACRC,QAAQ,EAAGC,KAAK,IAAK;MACnBA,KAAK,CAACL,KAAK,GAAGN,SAAS;IACzB,CAAC;IACDY,YAAY,EAAGD,KAAK,IAAK;MACvBA,KAAK,CAACL,KAAK,GAAG,CAAC,GAAGK,KAAK,CAACN,SAAS,CAAC,CAACQ,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACE,OAAO,GAAGD,CAAC,CAACC,OAAO,CAAC;IAC1E,CAAC;IACDC,QAAQ,EAAGN,KAAK,IAAK;MACnB,MAAMO,WAAW,GAAG,IAAIC,IAAI,EAAE,CAACC,OAAO,EAAE;MACxCT,KAAK,CAACL,KAAK,GAAGK,KAAK,CAACN,SAAS,CAACgB,MAAM,CAAEC,CAAC,IAAK;QAC1C,OACE,IAAIH,IAAI,CAACG,CAAC,CAACC,SAAS,CAAC,CAACH,OAAO,EAAE,GAAGF,WAAW,GAAG7B,kBAAkB,GAAG,CAAC;MAE1E,CAAC,CAAC;IACJ,CAAC;IACDmC,WAAW,EAAE,CAACb,KAAK,EAAEc,MAAM,KAAK;MAC9B,MAAMC,IAAI,GAAGf,KAAK,CAACN,SAAS,CAACsB,IAAI,CAAEL,CAAC,IAAKA,CAAC,CAACM,GAAG,KAAKH,MAAM,CAACI,OAAO,CAAC;MAClElB,KAAK,CAACJ,QAAQ,GAAG,CAAAmB,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEI,SAAS,IAAG,GAAG,IAAGJ,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEK,QAAQ;IACzD,CAAC;IACDC,gBAAgB,EAAGrB,KAAK,IAAK;MAC3B,MAAMsB,aAAa,GAAGtB,KAAK,CAACN,SAAS,CAACsB,IAAI,CACvCL,CAAC,IAAKA,CAAC,CAACM,GAAG,KAAK3B,eAAe,CACjC;MACD,IAAIgC,aAAa,EAAE;QACjBtB,KAAK,CAACH,UAAU,GAAGyB,aAAa;MAClC;IACF,CAAC;IACDC,YAAY,EAAE,CAACvB,KAAK,EAAEc,MAAM,KAAK;MAC/Bd,KAAK,CAACL,KAAK,GAAGmB,MAAM,CAACI,OAAO;MAC5BlB,KAAK,CAACN,SAAS,GAAGoB,MAAM,CAACI,OAAO;IAClC;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EACXnB,QAAQ;EACRE,YAAY;EACZK,QAAQ;EACRO,WAAW;EACXQ,gBAAgB;EAChBE;AACF,CAAC,GAAGhC,SAAS,CAACiC,OAAO;AAErB,eAAejC,SAAS,CAACkC,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}